(function(e){function t(t){for(var r,a,u=t[0],o=t[1],i=t[2],f=0,d=[];f<u.length;f++)a=u[f],Object.prototype.hasOwnProperty.call(c,a)&&c[a]&&d.push(c[a][0]),c[a]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r]);s&&s(t);while(d.length)d.shift()();return l.push.apply(l,i||[]),n()}function n(){for(var e,t=0;t<l.length;t++){for(var n=l[t],r=!0,u=1;u<n.length;u++){var o=n[u];0!==c[o]&&(r=!1)}r&&(l.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},c={app:0},l=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/vue-gram-tutorial/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],o=u.push.bind(u);u.push=t,u=u.slice();for(var i=0;i<u.length;i++)t(u[i]);var s=o;l.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"08a9":function(e,t,n){"use strict";n("5561")},"150b":function(e,t,n){},1632:function(e,t,n){"use strict";n("88b4")},"2dbd":function(e,t,n){"use strict";n("e935")},"38af":function(e,t,n){"use strict";n("a4d8")},"527a":function(e,t,n){"use strict";n("c59b")},5561:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23"),c={class:"App"};function l(e,t,n,l,a,u){var o=Object(r["k"])("Title"),i=Object(r["k"])("UploadForm"),s=Object(r["k"])("ImageGrid"),f=Object(r["k"])("Modal");return Object(r["h"])(),Object(r["e"])("div",c,[Object(r["g"])(o),Object(r["g"])(i),Object(r["g"])(s,{onSelected:l.updateSelectedImgUrl},null,8,["onSelected"]),l.selectedImgUrl?(Object(r["h"])(),Object(r["e"])(f,{key:0,imgUrl:l.selectedImgUrl,onClose:l.updateSelectedImgUrl},null,8,["imgUrl","onClose"])):Object(r["f"])("",!0)])}n("b0c0");function a(e,t,n,c,l,a){return Object(r["h"])(),Object(r["e"])(r["c"],{tag:"div",name:"grid",appear:"",class:"img-grid"},{default:Object(r["n"])((function(){return[(Object(r["h"])(!0),Object(r["e"])(r["a"],null,Object(r["j"])(c.documents,(function(e){return Object(r["h"])(),Object(r["e"])("div",{key:e.id,class:"img-wrap",onClick:function(t){return c.handleClick(e.url)}},[Object(r["g"])("img",{src:e.url,alt:e.name},null,8,["src","alt"])],8,["onClick"])})),128))]})),_:1})}var u=n("5530"),o=(n("159b"),n("260b")),i=(n("588e"),n("e71f"),{apiKey:"AIzaSyCH_QuhrrgzDlJ7LOHkBTM0ebYkqRMsIrs",authDomain:"ninja-vue-gram.firebaseapp.com",projectId:"ninja-vue-gram",storageBucket:"ninja-vue-gram.appspot.com",messagingSenderId:"810250176834",appId:"1:810250176834:web:9e3ee4a212fcbb2b97e0db"});o["a"].initializeApp(i);var s=o["a"].storage(),f=o["a"].firestore(),d=o["a"].firestore.FieldValue.serverTimestamp,b=function(e){var t=Object(r["i"])(null),n=Object(r["i"])(null),c=f.collection(e).orderBy("createdAt","desc"),l=c.onSnapshot((function(e){var r=[];e.docs.forEach((function(e){r.push(Object(u["a"])(Object(u["a"])({},e.data()),{},{id:e.id}))})),t.value=r,n.value=null,console.log(t.value)}),(function(e){console.log(e.message),t.value=null,n.value="Could not fetch the data"}));return Object(r["m"])((function(e){e((function(){return l}))})),{documents:t,error:n}},p=b,g={setup:function(e,t){var n=p("images"),r=n.documents,c=function(e){t.emit("selected",e)};return{documents:r,handleClick:c}}};n("1632");g.render=a;var j=g,O={class:"title"},m=Object(r["g"])("h1",null,"VueGram",-1),v=Object(r["g"])("p",null,"Lorem ipsum dolor sit amet consectetur.",-1);function h(e,t,n,c,l,a){return Object(r["h"])(),Object(r["e"])("div",O,[m,v])}var y={};n("527a");y.render=h;var k=y,w=Object(r["g"])("span",null,"Upload Image",-1),C={class:"output"},I={key:0,class:"error"},U={key:1};function S(e,t,n,c,l,a){var u=Object(r["k"])("ProgressBar");return Object(r["h"])(),Object(r["e"])("form",null,[Object(r["g"])("label",null,[Object(r["g"])("input",{type:"file",onChange:t[1]||(t[1]=function(){return c.handleChange&&c.handleChange.apply(c,arguments)})},null,32),w]),Object(r["g"])("div",C,[c.fileError?(Object(r["h"])(),Object(r["e"])("div",I,Object(r["l"])(c.fileError),1)):Object(r["f"])("",!0),c.file?(Object(r["h"])(),Object(r["e"])("div",U,Object(r["l"])(c.file.name),1)):Object(r["f"])("",!0),c.file?(Object(r["h"])(),Object(r["e"])(u,{key:2,file:c.file,onComplete:t[2]||(t[2]=function(e){return c.file=null})},null,8,["file"])):Object(r["f"])("",!0)])])}n("caad");function P(e,t,n,c,l,a){return Object(r["h"])(),Object(r["e"])("div",{class:"progress-bar",style:{width:c.progress+"%"}},null,4)}var _=n("1da1"),x=(n("96cf"),function(e){var t=Object(r["i"])(null),n=Object(r["i"])(null),c=Object(r["i"])(null);return Object(r["m"])((function(){var r=s.ref("images/"+e.name),l=f.collection("images");r.put(e).on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;c.value=t,console.log(c.value)}),(function(e){t.value=e}),Object(_["a"])(regeneratorRuntime.mark((function e(){var t,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r.getDownloadURL();case 2:return t=e.sent,c=d(),e.next=6,l.add({url:t,createdAt:c});case 6:n.value=t;case 7:case"end":return e.stop()}}),e)}))))})),{progress:c,url:n,error:t}}),M=x,T={props:["file"],setup:function(e,t){var n=M(e.file),c=n.progress;return Object(r["m"])((function(){c.value>=100&&setTimeout((function(){return t.emit("complete")}),1e3)})),{progress:c}}};n("38af");T.render=P;var A=T,B={components:{ProgressBar:A},setup:function(){var e=Object(r["i"])(null),t=Object(r["i"])(null),n=["image/png","image/jpeg"],c=function(r){var c=r.target.files[0];console.log(c),c&&n.includes(c.type)?(e.value=c,t.value=null):(e.value=null,t.value="Please, select an image file (png or jpg)")};return{handleChange:c,file:e,fileError:t}}};n("2dbd");B.render=S;var E=B;function R(e,t,n,c,l,a){return Object(r["h"])(),Object(r["e"])("div",{class:"backdrop",onClick:t[1]||(t[1]=function(){return c.handleClick&&c.handleClick.apply(c,arguments)})},[Object(r["g"])(r["b"],{name:"image",appear:""},{default:Object(r["n"])((function(){return[Object(r["g"])("img",{src:n.imgUrl},null,8,["src"])]})),_:1})])}var z={props:["imgUrl"],setup:function(e,t){var n=function(){t.emit("close",null)};return{handleClick:n}}};n("08a9");z.render=R;var D=z,F={name:"App",components:{ImageGrid:j,Title:k,UploadForm:E,Modal:D},setup:function(){var e=Object(r["i"])(null),t=function(t){e.value=t,console.log(e.value)};return{selectedImgUrl:e,updateSelectedImgUrl:t}}};F.render=l;var G=F;n("150b");Object(r["d"])(G).mount("#app")},"88b4":function(e,t,n){},a4d8:function(e,t,n){},c59b:function(e,t,n){},e935:function(e,t,n){}});
//# sourceMappingURL=app.9e5f3df8.js.map